<!doctype html>
<html lang="ko" class="no-js">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="canonical" href="https://html5-templates.com/"/>
  <title>Resume - fox</title>
  <meta name="description" content="Simplified Bootstrap template with sticky menu">
  <link href="css/bootstrap.min.css" rel="stylesheet">
<!--  <link href="bootstrap-4.4.1-dist/css/bootstrap.min.css" rel="stylesheet">-->
  <link href="css/sticky-menu.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Nanum+Gothic+Coding&display=swap"
        rel="stylesheet">

  <style>
    body {
      font-family: 'Nanum Gothic Coding', monospace;
    }

    #code_section {
      text-align: left;
      width: 20%;
      display: inline-block;
    }

    #out_code_section {
      text-align: center;
    }

    section {
      height: 900px;
    }

  </style>
  <link href="css/content-style.css" rel="stylesheet">
</head>
<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header page-scroll">
      <button type="button" class="navbar-toggle" data-toggle="collapse"
              data-target=".navbar-ex1-collapse">
        <span class="sr-only">Toggle menu</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand page-scroll" href="#page-top">Welcome</a>
    </div>

    <div class="collapse navbar-collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav">
        <li class="hidden">
          <a class="page-scroll" href="#page-top"></a>
        </li>
        <li>
          <a class="page-scroll" href="#about">EP Page 1</a>
        </li>
        <li>
          <a class="page-scroll" href="#about2">2</a>
        </li>
        <li>
          <a class="page-scroll" href="#about3">3</a>
        </li>
        <li>
          <a class="page-scroll" href="#about4">4</a>
        </li>
        <li>
          <a class="page-scroll" href="#about5">5</a>
        </li>
        <li>
          <a class="page-scroll" href="#about6">6</a>
        </li>
        <li>
          <a class="page-scroll" href="#whatwedo">IMG Page 1</a>
        </li>
        <li>
          <a class="page-scroll" href="#whatwedo2">2</a>
        </li>
        <li>
          <a class="page-scroll" href="#whatwedo3">3</a>
        </li>
        <li>
          <a class="page-scroll" href="#whatwedo4">4</a>
        </li>
        <li>
          <a class="page-scroll" href="#whatwedo5">5</a>
        </li>
        <li>
          <a class="page-scroll" href="#whatwedo6">6</a>
        </li>
        <li>
          <a class="page-scroll" href="#contact">Crawl Page 1</a>
        </li>
        <li>
          <a class="page-scroll" href="#contact2">2</a>
        </li>
        <li>
          <a class="page-scroll" href="#contact3">3</a>
        </li>
        <li>
          <a class="page-scroll" href="#contact4">4</a>
        </li>
        <li>
          <a class="page-scroll" href="#contact5">5</a>
        </li>
        <li>
          <a class="page-scroll" href="#contact6">Undergoing</a>
        </li>
      </ul>
    </div>  <!-- .navbar-collapse -->
  </div>    <!-- .container -->
</nav>
<!-- Welcome   -->
<section id="welcome" class="welcome-section">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <h1>(주) 위메프 에서 작업한 프로젝트에 대해 약술합니다. </h1>
        <p>
          </br>
        </p>
        <div id="out_code_section">
          <div id="code_section">Resume.of(Fox.getOne())</br>
            &nbsp;&nbsp;&nbsp;&nbsp;.describe()</br>
            &nbsp;&nbsp;&nbsp;&nbsp;.then(project(0))</br>
            &nbsp;&nbsp;&nbsp;&nbsp;...?</br>

          </div>
          <p>
            (PC 환경에서 좀 더 잘 보이며, 지속 업데이트 중인 문서입니다)
          </p>
        </div>
        <p></p>
        <!--					<p>A back to top arrow fades in as the user starts scrolling down the page which takes back to the welcome screen with one click.</p>-->
        <!--					<p>You can edit and publish this template but please leave a reference to <a href="https://html5-templates.com/" target="_blank" rel="nofollow">HTML5 Templates</a>. Thank You!</p>-->
        <p>&nbsp;</p>
        <a class="btn btn-primary page-scroll" href="#about">Click To Scroll Down!</a>
      </div>
    </div>
  </div>
</section>

<!-- About -->
<section id="about" class="about-section">
  <div class="container mycontainer">
    <div class="row">
      <div class="col-lg-12">
        <h1>EP 수집기 서비스</h1>
        <hr>
      </div>
    </div>
    <div class="content-div">
      <div class="content-div-center">
        <h3>개요</h3>
        <div class="margin-div">제휴 맺은 업체들의 EP 데이터를 수집한 뒤 가공하여 전용 저장소에 적재하는 시스템</div>
        <div class="margin-div">검색에 노출하기 위한 기본 상품 데이터들을 수집하여 목적에 맞게 분류, 가공하고 걸러서 내부 표준의 데이터로 만든 후 상품 정보를 저장하는 서버</div>
        <div class="margin-div">각 수집 처리는 비동기 방식을 지향하며, 비즈니스 요구에 맞는 기능의 확장에 열려 있는 시스템</div>
        <div class="margin-div">project-reactor를 적용하여 추상화된 스레드 관리 기능을 이용</div>
        <div class="margin-div">네트워크 자원 사용량의 효율을 위해 적절할 흐름제어 기능 탑재 등 수집 특화적인 서버</div>
        <div class="margin-div">지정된 스케줄에 따라 전체 혹은 요약 EP라 칭해지는 파일을 수집</div>
        <br><br>

        <h3>개발 중심 목표</h3>
          <div>
            <ul>
              <li>특정 시간에 수집 수량에 무관하게 무조건 수집 가능해야 함</li>
              <li>수집은 최대 1시간 이내로 완료되어야 함</li>
              <li>데이터 적재 부하를 줄여야 하며 잘못 수집된 경우 정정할 수 있어야 함</li>
            </ul>
          </div>

        <br><br>
        <h3>협력 부서</h3>
        <div>
          <ul>
            <li class="no-marker">검색 관련 부서</li>
            <li class="no-marker">데이터 관련 부서</li>
            <li class="no-marker">운영 관련 부서 </li>
          </ul>
        </div>


        <p> 기간 : 2018년 05월 29일 ~ </p>
      </div>
    </div>
  </div>
</section>

<section id="about2" class="about-section2">
  <div class="container mycontainer">
    <div class="row">
      <div class="col-lg-12">
        <h1>EP 수집기 서비스</h1>
        <hr>
      </div>
    </div>
    <div class="content-div row h-80">
      <div class="content-div-margin-auto">
        <div class="content-div-center card-block">
          <h3>개발 환경</h3>

          <div class="margin-div">

            <table class="skill-table">
              <tr>
                <th>대상</th>
                <th>이름</th>
              </tr>
              <tr>
                <td>형상관리</td>
                <td>Git</td>
              </tr>
              <tr>
                <td>개발 언어</td>
                <td>Java 8+</td>
              </tr>
              <tr>
                <td>RDBMS</td>
                <td>MySQL(AWS)</td>
              </tr>
              <tr>
                <td>이슈관리도구</td>
                <td>GitLab,Jira</td>
              </tr>
              <tr>
                <td>빌드도구</td>
                <td>Gradle</td>
              </tr>
              <tr>
                <td>서버</td>
                <td>EC2 instance(Ubuntu 14.04)</td>
              </tr>
            </table>

          </div>

          <br><br>

          <h3>역할 및 적용 기술</h3>
          <div>
            <ul>
              <li class="no-marker">총 참여 인원 2명</li>
              <li class="no-marker">Pair Programing, 부분 분할 개발 등, 개발 초기부터 최종까지 전 기능 같이 개발</li>
              <li class="no-marker"><br>Spring Boot,<br>
                Redis,<br>
                Kafka,<br>
                React,<br>
                Flux,<br>
                Swagger,<br>
                AWS,<br>
                pinpoint,<br>
                Scouter,<br>
                Code-pipeline<br>
                Sonar-qube<br>
                Nexus</li>
            </ul>
          </div>


        </div>
      </div>
    </div>
  </div>
</section>

<section id="about3" class="about-section">
  <div class="container mycontainer">
    <div class="row">
      <div class="col-lg-12">
        <h1>EP 수집기 서비스</h1>
        <hr>
      </div>
    </div>
    <div class="content-div row h-80">
      <div class="content-div-margin-auto">
        <div class="content-div-center card-block">
          <h3>기술 상세</h3>

          <div class="margin-div">

            <ul><b>Git flow</b>
              <li class="no-marker"> - 소스 브랜치 전략의 기준으로 삼기 위해 사용</li>
            </ul>
            <ul><b>Spring Boot</b>
              <li class="no-marker"> - 스프링이 제공하는 유용한 기능을 사용하기 위해 적용</li>
            </ul>
            <ul><b>Redis</b>
              <li class="no-marker"> - 데이터 캐시 및 운영관리 목적으로 사용</li>
            </ul>
            <ul><b>Kafka</b>
              <li class="no-marker"> - 데이터 부하 분산을 위해 사용(LZ4 압축)</li>
            </ul>
            <ul><b>React</b>
              <li class="no-marker"> - Event-bus 방식의 이벤트 핸들링 처리(비동기)를 위해 사용</li>
            </ul>
            <ul><b>Flux</b>
              <li class="no-marker"> - 스레딩 기법의 추상화 기능을 적용하기 위해 사용</li>
            </ul>
            <ul><b>Swagger</b>
              <li class="no-marker"> - 인페이스 문서화 적용</li>
            </ul>
            <ul><b>AWS</b>
              <li class="no-marker"> - 인프라 정책으로 클라우드 서비스를 이용</li>
            </ul>
            <ul><b>Pinpoint</b>
              <li class="no-marker"> - 서버 모니터링을 위해 사용</li>
            </ul>
            <ul><b>Scouter</b>
              <li class="no-marker"> - 초기 핀포인트에 비동기 이벤트가 잡히지 않아 추가적인 모니터링을 위해 사용</li>
            </ul>
            <ul><b>Code-pipeline</b>
              <li class="no-marker"> - 배포 관리를 위해 사용</li>
            </ul>
            <ul><b>Sonar-qube</b>
              <li class="no-marker"> - 소스 코드의 품질을 검증하기 위해 사용</li>
            </ul>
            <ul><b>Nexus</b>
              <li class="no-marker"> - 배포 담당자의 한계로 모듈 코드 의존성을 위해 사용</li>
            </ul>

          </div>

        </div>
      </div>
    </div>
  </div>
</section>

<section id="about4" class="about-section2">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <h1>EP 수집기 서비스</h1>
      </div>
    </div>
    <div class="content-div">

      <h3>특징</h3>

      <p>지식이 없는 상황에서 상당히 많은 데이터를 빠르게 적재할 필요성<br>

      <ul>

        <li>최대 21GB의 데이터를 1시간 이내에 수집하여 적재를 끝내야 하는 제약</li>
        <li>네트워크 부하를 줄이기 위해 Redis를 적용</li>
        <li>입력 부하를 분산시키기 위해 Kafka를 적용</li>
        <li>끊기지 않는 데이터 다운로드를 위한 Http 처리</li>
        <li>기타 유관 부서가 필요로 하는 데이터를 제공</li>
        <li>데이터 검증, 수집 필터링 및 조건부 수집 등 부수적 요구사항 적용</li>
        <li>일관적이지 않은 수집 방식을 추상화하여 통일(format, ftp etc)</li>
        <li>스케줄, 전체, 요약, 수신기 등으로 서버를 나눠 구성</li>
        <li>과거 ES 적재 기능 지원</li>
        <li>외부 DB 접근을 위해 ETL 사용</li>
      </ul>

      </p>

      <p>
        과제

      <ul>
        <li>데이터 수집 방식 통일</li>
        <li>스레드 경합</li>
        <li>고속 수집에 의한 Redis-Kafka 메모리 오버플로우, 흐름제어</li>
        <li>레디스 병목 적은 대량 캐시 지원</li>
        <li>좀비 상품, 삭제</li>
        <li>DB 적재 부하, 네트워크 한계</li>
        <li>수집 시점 동기화 등</li>
      </ul>
      </p>

      <p>
        해결

      <ul>
        <li>데이터 수집 방식 통일(인터페이스 치환;어댑터 확)</li>
        <li>스레드 경합(reactive)</li>
        <li>고속 수집에 의한 Redis-Kafka 메모리 오버플로우, 흐름제어(GC, Dump 분석, Flow-Buffer)</li>
        <li>레디스 병목 적은 대량 캐시 지원(lettuce -> partial batch -> reactive)</li>
        <li>좀비 상품, 삭제(Redis)</li>
        <li>DB 적재 부하, 네트워크 한계(kafka, consumer, scale up)</li>
        <li>수집 시점 동기화 등(redis synchronization)</li>
      </ul>
      </p>

      <p>
        아쉬운 점
      <ul>
        <li>유관 부서의 협조 부족</li>
        <li>서버 자동 회복 구조 회복</li>
        <li>큰 회사들의 지원 미비</li>
        <li>코드 구조가 모듈-서브 모듈이었는데 배포 담당자의 한계로 분리하게 됨</li>
      </ul>
      </p>


    </div>
  </div>
</section>

<section id="about5" class="about-section">
  <div class="container mycontainer">
    <div class="row">
      <div class="col-lg-12">
        <h1>EP 수집기 서비스</h1>
        <hr>
      </div>
    </div>
    <div class="content-div row h-80">
      <div class="content-div-margin-auto">
        <div class="content-div-center card-block">
          <h3>이슈 해결 일부</h3>

          <div class="margin-div">

            <h4> 포맷 다양성 문제 </h4>

            <ul>
              <li class="no-marker"> 수집 대상 포맷이 고정되지 않음(요구사항 계속 추가)</li>
              <li class="no-marker"> TSV, JSON, CSV, XML, EP3.0, EP2.0, DEP etc</li>
              <li class="no-marker"> 각 포맷별 파서가 존재하여 파싱 기능 수정 시 모두 수정해야 하는 문</li>
            </ul>
            <h4>해결을 위해 File Read & Parsing 부분을 추상</h4>
            <img src="img/translator.png" width="100%" height="450px">

              새로운 포맷이 추가되어도 각 translaotor만 생성하면 됨
          </div>

        </div>
      </div>
    </div>
  </div>
</section>

<section  id="about6" class="about-section2">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <h1>EP 수집기 서비스</h1>
      </div>
    </div>
    <div class="content-div">

      <h3>구조(간략화)</h3>

      <img src="./img/simple_str_ep.png" width="90%">


    </div>
  </div>
</section>


<!-- image ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss -->
<!-- What we do Section -->
<section id="whatwedo" class="whatwedo-section">
  <div class="container mycontainer">
    <div class="row">
      <div class="col-lg-12">
        <h1>이미지 수집 서버</h1>
        <hr>
      </div>
    </div>
    <div class="content-div">
      <div class="content-div-center">
        <h3>개요</h3>
        <div class="margin-div">수집한 상품들의 이미지를 수집하여 가공하여 내부 저장소에 저장하는 서버</div>
        <div class="margin-div">실시간으로 이미지 데이터를 신속하게 수집하여 가공 및 저장소 업로드를 수행하는 시스템</div>
        <div class="margin-div">하루 약 2억 건의 이미지 데이터를 수집하여 8억 건의 산출물을 제공해야 함</div>
        <div class="margin-div">정상적인 이미지 외에도 수집에 실패한 이미지를 수집하며 검증, 갱신 기능이 포함된 시스템</div>
        <br><br>

        <h3>개발 중심 목표</h3>
        <div>
          <ul>
            <li>실시간으로 최대한 빠르게 이미지를 수집해야 함</li>
            <li>수집은 한 개 파일에 대해 4가지의 가공물을 제공</li>
            <li>데이터 수집에 이미지와 상태에 일관성이 깨져서는 안됨</li>
            <li>가능한 한 필수 타입의 이미지 포맷을 수집함</li>
          </ul>
        </div>

        <br><br>
        <h3>협력 부서</h3>
        <div>
          <ul>
            <li class="no-marker">검색 관련 부서</li>
            <li class="no-marker">데이터 관련 부서</li>
            <li class="no-marker">운영 관련 부서 </li>
            <li class="no-marker">지표 관련 부서</li>
          </ul>
        </div>


        <p> 기간 : 2018년 08월 01일 ~ </p>
      </div>
    </div>
  </div>

</section>


<section id="whatwedo2" class="whatwedo-section2">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <h1>이미지 수집 서버</h1>
      </div>
    </div>
    <div class="content-div row h-80">
      <div class="content-div-margin-auto">
        <div class="content-div-center card-block">
          <h3>개발 환경</h3>

          <div class="margin-div">

            <table class="skill-table">
              <tr>
                <th>대상</th>
                <th>이름</th>
              </tr>
              <tr>
                <td>형상관리</td>
                <td>Git</td>
              </tr>
              <tr>
                <td>개발 언어</td>
                <td>Java 8+</td>
              </tr>
              <tr>
                <td>RDBMS</td>
                <td>MySQL(AWS)</td>
              </tr>
              <tr>
                <td>이슈관리도구</td>
                <td>GitLab,Jira</td>
              </tr>
              <tr>
                <td>빌드도구</td>
                <td>Gradle</td>
              </tr>
              <tr>
                <td>서버</td>
                <td>EC2 instance(Ubuntu 14.04)</td>
              </tr>
            </table>

          </div>

          <br><br>

          <h3>역할 및 적용 기술</h3>
          <div>
            <ul>
              <li class="no-marker">총 참여 인원 2명</li>
              <li class="no-marker">이미지 포맷별 분석, S3 업로드, 스레드 자원 관리, 에러 이미지 재수집 기능 개발</li>
              <li class="no-marker"><br>Spring Boot,<br>
                Redis,<br>
                React,<br>
                AWS,<br>
                pinpoint,<br>
                Code-pipeline<br>
                Sonar-qube<br>
                S3</li>
            </ul>
          </div>


        </div>
      </div>
    </div>

  </div>
</section>

<section id="whatwedo3" class="whatwedo-section2">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <h1>이미지 수집 서버</h1>
      </div>
    </div>
    <div class="content-div row h-80">
      <div class="content-div-margin-auto">
        <div class="content-div-center card-block">
          <h3>기술 상세</h3>

          <div class="margin-div">

            <ul><b>Git flow</b>
              <li class="no-marker"> - 소스 브랜치 전략의 기준으로 삼기 위해 사용</li>
            </ul>
            <ul><b>Spring Boot</b>
              <li class="no-marker"> - 스프링이 제공하는 유용한 기능을 사용하기 위해 적용</li>
            </ul>
            <ul><b>Redis</b>
              <li class="no-marker"> - 수집 범위 자동 분배를 위해 사용</li>
            </ul>
            <ul><b>React</b>
              <li class="no-marker"> - Event-bus 방식의 이벤트 핸들링 처리(비동기)를 위해 사용</li>
            </ul>
            <ul><b>AWS</b>
              <li class="no-marker"> - 인프라 정책으로 클라우드 서비스를 이용</li>
            </ul>
            <ul><b>Pinpoint</b>
              <li class="no-marker"> - 서버 자원 모니터링을 위해 사용</li>
            </ul>
            <ul><b>Code-pipeline</b>
              <li class="no-marker"> - 배포 관리를 위해 사용</li>
            </ul>
            <ul><b>Sonar-qube</b>
              <li class="no-marker"> - 소스 코드의 품질을 검증하기 위해 사용</li>
            </ul>
            <ul><b>S3</b>
              <li class="no-marker"> - 수집한 이미지를 자체 CDN 을 위한 저장소에 저장하기 위해 사용</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

  </div>
</section>


<section id="whatwedo4" class="whatwedo-section2">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <h1>이미지 수집 서버</h1>
      </div>
    </div>
    <div class="content-div">

      <p>
        <h3>특징</h3>
      </p>

      <ul>
        <li>믹스트 컨텐츠 -> 부하를 줄이기 위한 이미지 저장소의 필요성 -> 개발</li>
        <li>하루에 2억 건의 이미지를 수집해야 하는 조건</li>
        <li>한 번 수집 실패한 이미지의 재수집 정책</li>
        <li>제휴 업체 서버의 부하가 있어서는 아니 됨</li>
        <li>GIF, JPG, Progressive, PNG, WEBP 포맷 지원</li>
        <li>가공은 절취, 크기 조절, 진보 JPG 변환</li>
        <li>S3에 대량 업로드 및 DB에 전부 업로드</li>

      </ul>

    </div>

  </div>
</section>

<section id="whatwedo5" class="whatwedo-section">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <h1>이미지 수집 서버</h1>
      </div>
    </div>
    <div class="content-div">

      <p>과제
      <ul>
        <li>동일한 이미지 수집을 지양</li>
        <li>이미지 캐시 정책으로 이미지 갱신이 이뤄지지 않는 경우</li>
        <li>저장 경로 문제</li>
        <li>표준을 따르지 않는 Http 응답 처리 - 틀린 정보, 정보 제공 없음, octet-stream </li>
        <li>CMYK 색상 처리 문제</li>
        <li>Animated Gif 처리 문제</li>
        <li>Diff Animated GIF 처리 문제</li>
        <li>Transparent Background PNG 처리 중 배경 알파 제거 현상</li>
        <li>OpenJDK 의 GIF 미지원 문제</li>
        <li>이미지 포맷 표준이 미지원 되는 문제</li>
        <li>이미지 수집 대상 선정 문제</li>
        <li>30X 응답 코드</li>
        <li>대용량 이미지</li>
        <li>잘못된 이미지 수집 문제, 쿼리 스트링 문제</li>
        <li>수집기 수집 범위 분배 문제</li>
        <li>전체 재수집 이슈</li>
      </ul>
      </p>

      <p>해결
      <ul>
        <li>동일한 이미지 수집을 지양(mysql update on duplicated -> 검증 서버 생성)</li>
        <li>이미지 캐시 정책으로 이미지 갱신이 이뤄지지 않는 경우(Cdn re-upload -> 삭제 서버 생성)</li>
        <li>저장 경로 문제(S3 삭제 이슈 -> 새 경로로 이미지 저장 분산)</li>
        <li>표준을 따르지 않는 Http 응답 처리 - 틀린 정보, 정보 제공 없음, octet-stream(File header 분석, Tika) </li>
        <li>CMYK 색상 처리 문제(CMYK 처리기 개발)</li>
        <li>Animated Gif 처리 문제(GIF frame 절취 코드 개발)</li>
        <li>Transparent Background PNG 처리 중 배경 알파 제거 현상(배경 삭제, 흰색)</li>
        <li>Diff Animated GIF 처리 문제(ICafe Gif reader 적용) </li>
        <li>OpenJDK 의 GIF 미지원 문제(github Gif reader 적용)</li>
        <li>이미지 포맷 표준이 미지원 되는 문제(github Gif reader 적용)</li>
        <li>이미지 수집 대상 선정 문제(256 그룹으로 분배)</li>
        <li>30X 응답 코드(계속 추적)</li>
        <li>대용량 이미지(타임아웃 처리)</li>
        <li>잘못된 이미지 수집 문제, 쿼리 스트링 문제(이미지 캐시, 변환으로 수집 중단)</li>
        <li>수집기 수집 범위 분배 문제(책임 연쇄 패턴, Redis, file, property, default)</li>
        <li>전체 재수집 이슈(서버 scale out)</li>
      </ul>
      </p>

    </div>

  </div>
</section>

<section id="whatwedo6" class="whatwedo-section2">
  <div class="container mycontainer">
    <div class="row">
      <div class="col-lg-12">
        <h1>이미지 수집 서버</h1>
        <hr>
      </div>
    </div>
    <div class="content-div row h-80">
      <div class="content-div-margin-auto">
        <div class="content-div-center card-block">
          <h3>이슈 해결 일부</h3>

          <div class="margin-div">

            <h4> 포맷 다양성 문제 </h4>

            <ul>
              <li class="no-marker"> HTTP 응답을 신뢰할 수 없음</li>
              <li class="no-marker"> WEBP, PNG, OCTET-STREAM, GIF 가공 중 끊임없는 이슈 발생</li>
              <li class="no-marker"> 이미지 처리 지식이 개발실 내 전무</li>
            </ul>
            <h4>신뢰하지 못하는 HTTP 정보를 제외하고 직접 파일의 구조를 모두 파악</h4>
            <br>
            <img src="img/png_str.png" width="30%">
            <img src="img/gif_str.png" width="30%">
            <img src="img/gif_str2.png" width="30%">
            <br>
            파일 헤더를 직접 분석하여 수집 대상의 이미지들을 분간하였음.

            <br><br><br>
            <h4> 이미지 표준을 벗어나는 이슈, OpenJDK gif 지원 이슈 등 </h4>

            <ul>
              <li class="no-marker"> Oracle Jdk 라이센스 변경으로 openJdk 사용</li>
              <li class="no-marker"> javax.image 패키지의 이미지 지원이 미약</li>
              <li class="no-marker"> 9-monkey, imageIO 등 여러 lib 를 찾아 시도했으나 실패</li>
              <li class="no-marker"> 라이브러리의 기능을 자체 수정, 튜닝하여 해결</li>
            </ul>

            <br><br>
            <h4> 2억 건이 넘는 데이터의 조회 문제 </h4>

            <ul>
              <li class="no-marker"> 수집 대상은 DB 1개 테이블에 저장됨</li>
              <li class="no-marker"> 그 수가 2억 건이 넘어서 단순한 조회로는 타겟을 중복 없이 조회하기 어려</li>
              <li class="no-marker"> 에러 대상 또한 같은 곳에 존재하므로 구분은 조건으로만 가능한 상태</li>
              <li class="no-marker"> 이미지별 32자의 16진수 해시를 만들고 256개의 그룹을 나눠 조회</li>
            </ul>
          </div>

        </div>
      </div>
    </div>
  </div>
</section>

<!-- CRAWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWALING -->


<!-- Contact Section -->
<section id="contact" class="contact-section">
  <div class="container mycontainer">
    <div class="row">
      <div class="col-lg-12">
        <h1>크롤링 서버</h1>
        <hr>
      </div>
    </div>
    <div class="content-div">
      <div class="content-div-center">
        <h3>개요</h3>
        <div class="margin-div">EP를 제공하지 못하는 업체들의 상품 페이지를 '크롤', '스크랩'하는 서버</div>
        <div class="margin-div">실시간으로 이미지 데이터를 신속하게 수집하여 가공 및 저장소 업로드를 수행하는 시스템</div>

        <br><br>

        <h3>개발 중심 목표</h3>
        <div>
          <ul>
            <li>지정된 솔루션사는 모두 크롤링할 수 있는 기능 지원 </li>
            <li>최대 6시간 이내 크롤 완료</li>
            <li>크롤링 필터는 자체 검증 가능하며, 코드 수정 없이 변경 가능해야 함</li>
            <li>크롤 제한 사항에 대한 매너를 지켜야 함</li>
          </ul>
        </div>


        <p> 기간 : 2019년 01월 01일 ~ </p>
      </div>
    </div>
  </div>
</section>


<section id="contact2" class="contact-section">
  <div class="container mycontainer">
    <div class="row">
      <div class="col-lg-12">
        <h1>크롤링 서버</h1>
        <hr>
      </div>
    </div>
    <div class="content-div row h-80">
      <div class="content-div-margin-auto">
        <div class="content-div-center card-block">
          <h3>개발 환경</h3>

          <div class="margin-div">

            <table class="skill-table">
              <tr>
                <th>대상</th>
                <th>이름</th>
              </tr>
              <tr>
                <td>형상관리</td>
                <td>Git</td>
              </tr>
              <tr>
                <td>개발 언어</td>
                <td>Java 8+</td>
              </tr>
              <tr>
                <td>RDBMS</td>
                <td>MySQL(AWS)</td>
              </tr>
              <tr>
                <td>이슈관리도구</td>
                <td>GitLab,Jira</td>
              </tr>
              <tr>
                <td>빌드도구</td>
                <td>Gradle</td>
              </tr>
              <tr>
                <td>서버</td>
                <td>EC2 instance(Ubuntu 14.04)</td>
              </tr>
            </table>

          </div>

          <br><br>

          <h3>역할 및 적용 기술</h3>
          <div>
            <ul>
              <li class="no-marker">총 참여 인원 3명</li>
              <li class="no-marker">솔루션 사 1개, 독립몰 4개 크롤링 개발</li>
              <li class="no-marker"><br>Spring Boot,<br>
                Redis,<br>
                React,<br>
                Swagger,<br>
                AWS,<br>
                pinpoint,<br>
                Code-pipeline<br>
                Sonar-qube<br>
                Filebeat(Logstash)<br>
                S3</li>
            </ul>
          </div>


        </div>
      </div>
    </div>
  </div>
</section>

<section id="contact3" class="contact-section">
  <div class="container mycontainer">
    <div class="row">
      <div class="col-lg-12">
        <h1>크롤링 서버</h1>
        <hr>
      </div>
    </div>
    <div class="content-div row h-80">
      <div class="content-div-margin-auto">
        <div class="content-div-center card-block">
          <h3>기술 상세</h3>

          <div class="margin-div">

            <ul><b>Git flow</b>
              <li class="no-marker"> - 소스 브랜치 전략의 기준으로 삼기 위해 사용</li>
            </ul>
            <ul><b>Spring Boot</b>
              <li class="no-marker"> - 스프링이 제공하는 유용한 기능을 사용하기 위해 적용</li>
            </ul>
            <ul><b>Redis</b>
              <li class="no-marker"> - 중복 크롤 방지를 위해 사용</li>
            </ul>
            <ul><b>React</b>
              <li class="no-marker"> - Event-bus 방식의 이벤트 핸들링 처리(비동기)를 위해 사용</li>
            </ul>
            <ul><b>Swagger</b>
              <li class="no-marker"> - 인페이스 문서화 적용</li>
            </ul>
            <ul><b>AWS</b>
              <li class="no-marker"> - 인프라 정책으로 클라우드 서비스를 이용</li>
            </ul>
            <ul><b>Pinpoint</b>
              <li class="no-marker"> - 서버 자원 모니터링을 위해 사용</li>
            </ul>
            <ul><b>Code-pipeline</b>
              <li class="no-marker"> - 배포 관리를 위해 사용</li>
            </ul>
            <ul><b>Sonar-qube</b>
              <li class="no-marker"> - 소스 코드의 품질을 검증하기 위해 사용</li>
            </ul>
            <ul><b>Filebeat(Logstash)</b>
              <li class="no-marker"> - 스크랩 데이터를 인덱서로 옮기기 위해 사용</li>
            </ul>
            <ul><b>S3</b>
              <li class="no-marker"> - 스크랩한 파일을 S3 저장소에 저장하기 위해 사용</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

  </div>
</section>

<section id="contact4" class="contact-section2">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <h1>크롤링 서버</h1>
      </div>
    </div>
    <div class="content-div">

      <p>
      <h3>특징</h3>
      </p>

      <ul>
        <li>솔루션 사를 사용하는 업체들이 주 크롤링 대상</li>
        <li>수집 한계는 시간, 상품 수로 결정지어짐</li>
        <li>독립몰을 크롤링 해야 할 수 있음</li>
        <li>제휴 업체 서버의 부하가 있어서는 아니 됨</li>
        <li>Crawler4J를 이용해 개발</li>
        <li>수집 필터는 서버의 재기동 없이 적용 가능해야 함</li>
        <li>필터는 매일 검증이 가능해야 함</li>
      </ul>

      <p>과제
      <ul>
        <li>크롤링이 동시에 2회 이상 진행되지 않도록 제약</li>
        <li>크롤 대상 업체는 약 202개</li>
        <li>크롤 대상이 한계를 넘기는 업체를 크롤해야 하는 일이 발생</li>
        <li>분산 스크래핑 처리 필요</li>
        <li>스레드 처리별 대기 시간 효율화 적용 필요</li>
        <li>분산 수집된 데이터를 중앙 집중적으로 모아야 함</li>
      </ul>
      </p>

      <p>해결
      <ul>
        <li>크롤링이 동시에 2회 이상 진행되지 않도록 제약(Redis)</li>
        <li>크롤 대상 업체는 약 202개(결국 노가다)</li>
        <li>별도 서버가 시한을 제거한 상태에서 크롤</li>
        <li>분산 스크래핑 처리 필요(Kafka partition)</li>
        <li>스레드 처리별 대기 시간 효율화 적용 필요(업체 최적화 스크랩 핸들러 적용)</li>
        <li>분산 수집된 데이터를 중앙 집중적으로 모아야 함(Filebeat, Logstash 적용)</li>
      </ul>
      </p>

      <p>
        아쉬운 점
      <ul>
        <li>보안 팀과 인프라 팀과 자원과 비용으로 갈등</li>
      </ul>
      </p>
    </div>
  </div>


</section>

<section id="contact5" class="contact-section">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <h1>크롤링 서버</h1>
      </div>
    </div>
    <div class="content-div">

      <h3>구조</h3>

      <img src="./img/simple_cr_str.png" width="90%">
    </div>
  </div>


</section>

<!-- Contact Section -->
<section id="contact6" class="contact-section2">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <h1>Contact Section</h1>
      </div>
    </div>

    <div>

      항공... 진행중..

    </div>
  </div>
</section>

<a id="back2Top" title="Back to top" href="#">&#10148;</a>

<!-- jQuery -->
<script src="js/jquery.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="js/bootstrap.min.js"></script>

<!-- Scrolling Nav JavaScript -->
<script src="js/jquery.easing.min.js"></script>
<script src="js/sticky-menu.js"></script>

</body>

</html>
